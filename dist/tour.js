!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TourGuide=e():t.TourGuide=e()}(self,(()=>(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},p:""},e={};return t.p,(()=>{function n(){var t=document.createElement("div");return t.classList.add("tg-dialog-dots"),t.id="tg-dialog-dots",t.outerHTML}t.r(e),t.d(e,{TourGuideClient:()=>oe});var o=function(t){var e="";return t.tourSteps.length&&t.tourSteps.forEach((function(n,o){var i=document.createElement("span");i.classList.add("tg-dot"),o===t.activeStep&&i.classList.add("tg-dot-active"),e+=i.outerHTML})),e};const i=["start","end"],r=["top","right","bottom","left"].reduce(((t,e)=>t.concat(e,e+"-"+i[0],e+"-"+i[1])),[]),a=Math.min,s=Math.max,c=Math.round,l=(Math.floor,t=>({x:t,y:t})),u={left:"right",right:"left",bottom:"top",top:"bottom"},f={start:"end",end:"start"};function d(t,e,n){return s(t,a(e,n))}function p(t,e){return"function"==typeof t?t(e):t}function h(t){return t.split("-")[0]}function g(t){return t.split("-")[1]}function b(t){return"x"===t?"y":"x"}function v(t){return"y"===t?"height":"width"}function y(t){return["top","bottom"].includes(h(t))?"y":"x"}function m(t){return b(y(t))}function w(t){return t.replace(/left|right|bottom|top/g,(t=>u[t]))}function x(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function k(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function E(t,e,n){let{reference:o,floating:i}=t;const r=y(e),a=m(e),s=v(a),c=h(e),l="y"===r,u=o.x+o.width/2-i.width/2,f=o.y+o.height/2-i.height/2,d=o[s]/2-i[s]/2;let p;switch(c){case"top":p={x:u,y:o.y-i.height};break;case"bottom":p={x:u,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:f};break;case"left":p={x:o.x-i.width,y:f};break;default:p={x:o.x,y:o.y}}switch(g(e)){case"start":p[a]-=d*(n&&l?-1:1);break;case"end":p[a]+=d*(n&&l?-1:1)}return p}async function S(t,e){var n;void 0===e&&(e={});const{x:o,y:i,platform:r,rects:a,elements:s,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=p(e,t),g=x(h),b=s[d?"floating"===f?"reference":"floating":f],v=k(await r.getClippingRect({element:null==(n=await(null==r.isElement?void 0:r.isElement(b)))||n?b:b.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(s.floating)),boundary:l,rootBoundary:u,strategy:c})),y="floating"===f?{...a.floating,x:o,y:i}:a.reference,m=await(null==r.getOffsetParent?void 0:r.getOffsetParent(s.floating)),w=await(null==r.isElement?void 0:r.isElement(m))&&await(null==r.getScale?void 0:r.getScale(m))||{x:1,y:1},E=k(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:m,strategy:c}):y);return{top:(v.top-E.top+g.top)/w.y,bottom:(E.bottom-v.bottom+g.bottom)/w.y,left:(v.left-E.left+g.left)/w.x,right:(E.right-v.right+g.right)/w.x}}const L=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:r,platform:s,elements:c}=e,{element:l,padding:u=0}=p(t,e)||{};if(null==l)return{};const f=x(u),h={x:n,y:o},b=m(i),y=v(b),w=await s.getDimensions(l),k="y"===b,E=k?"top":"left",S=k?"bottom":"right",L=k?"clientHeight":"clientWidth",C=r.reference[y]+r.reference[b]-h[b]-r.floating[y],P=h[b]-r.reference[b],B=await(null==s.getOffsetParent?void 0:s.getOffsetParent(l));let T=B?B[L]:0;T&&await(null==s.isElement?void 0:s.isElement(B))||(T=c.floating[L]||r.floating[y]);const _=C/2-P/2,A=T/2-w[y]/2-1,O=a(f[E],A),R=a(f[S],A),D=O,M=T-w[y]-R,z=T/2-w[y]/2+_,H=d(D,z,M),F=null!=g(i)&&z!=H&&r.reference[y]/2-(z<D?O:R)-w[y]/2<0?z<D?D-z:M-z:0;return{[b]:h[b]-F,data:{[b]:H,centerOffset:z-H+F}}}}),C=function(t){return void 0===t&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,o,i;const{rects:a,middlewareData:s,placement:c,platform:l,elements:u}=e,{crossAxis:d=!1,alignment:b,allowedPlacements:y=r,autoAlignment:x=!0,...k}=p(t,e),E=void 0!==b||y===r?function(t,e,n){return(t?[...n.filter((e=>g(e)===t)),...n.filter((e=>g(e)!==t))]:n.filter((t=>h(t)===t))).filter((n=>!t||g(n)===t||!!e&&function(t){return t.replace(/start|end/g,(t=>f[t]))}(n)!==n))}(b||null,x,y):y,L=await S(e,k),C=(null==(n=s.autoPlacement)?void 0:n.index)||0,P=E[C];if(null==P)return{};const B=function(t,e,n){void 0===n&&(n=!1);const o=g(t),i=m(t),r=v(i);let a="x"===i?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=w(a)),[a,w(a)]}(P,a,await(null==l.isRTL?void 0:l.isRTL(u.floating)));if(c!==P)return{reset:{placement:E[0]}};const T=[L[h(P)],L[B[0]],L[B[1]]],_=[...(null==(o=s.autoPlacement)?void 0:o.overflows)||[],{placement:P,overflows:T}],A=E[C+1];if(A)return{data:{index:C+1,overflows:_},reset:{placement:A}};const O=_.map((t=>{const e=g(t.placement);return[t.placement,e&&d?t.overflows.slice(0,2).reduce(((t,e)=>t+e),0):t.overflows[0],t.overflows]})).sort(((t,e)=>t[1]-e[1])),R=(null==(i=O.filter((t=>t[2].slice(0,g(t[0])?2:3).every((t=>t<=0))))[0])?void 0:i[0])||O[0][0];return R!==c?{data:{index:C+1,overflows:_},reset:{placement:R}}:{}}}},P=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:o}=e,i=await async function(t,e){const{placement:n,platform:o,elements:i}=t,r=await(null==o.isRTL?void 0:o.isRTL(i.floating)),a=h(n),s=g(n),c="y"===y(n),l=["left","top"].includes(a)?-1:1,u=r&&c?-1:1,f=p(e,t);let{mainAxis:d,crossAxis:b,alignmentAxis:v}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return s&&"number"==typeof v&&(b="end"===s?-1*v:v),c?{x:b*u,y:d*l}:{x:d*l,y:b*u}}(e,t);return{x:n+i.x,y:o+i.y,data:i}}}};function B(t){return A(t)?(t.nodeName||"").toLowerCase():"#document"}function T(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function _(t){var e;return null==(e=(A(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function A(t){return t instanceof Node||t instanceof T(t).Node}function O(t){return t instanceof Element||t instanceof T(t).Element}function R(t){return t instanceof HTMLElement||t instanceof T(t).HTMLElement}function D(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof T(t).ShadowRoot)}function M(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=V(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function z(t){return["table","td","th"].includes(B(t))}function H(t){const e=F(),n=V(t);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((t=>(n.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(n.contain||"").includes(t)))}function F(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function G(t){return["html","body","#document"].includes(B(t))}function V(t){return T(t).getComputedStyle(t)}function W(t){return O(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function I(t){if("html"===B(t))return t;const e=t.assignedSlot||t.parentNode||D(t)&&t.host||_(t);return D(e)?e.host:e}function N(t){const e=I(t);return G(e)?t.ownerDocument?t.ownerDocument.body:t.body:R(e)&&M(e)?e:N(e)}function j(t,e){var n;void 0===e&&(e=[]);const o=N(t),i=o===(null==(n=t.ownerDocument)?void 0:n.body),r=T(o);return i?e.concat(r,r.visualViewport||[],M(o)?o:[]):e.concat(o,j(o))}function q(t){const e=V(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=R(t),r=i?t.offsetWidth:n,a=i?t.offsetHeight:o,s=c(n)!==r||c(o)!==a;return s&&(n=r,o=a),{width:n,height:o,$:s}}function Z(t){return O(t)?t:t.contextElement}function Y(t){const e=Z(t);if(!R(e))return l(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=q(e);let a=(r?c(n.width):n.width)/o,s=(r?c(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const X=l(0);function $(t){const e=T(t);return F()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:X}function J(t,e,n,o){void 0===e&&(e=!1),void 0===n&&(n=!1);const i=t.getBoundingClientRect(),r=Z(t);let a=l(1);e&&(o?O(o)&&(a=Y(o)):a=Y(t));const s=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==T(t))&&e}(r,n,o)?$(r):l(0);let c=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,f=i.width/a.x,d=i.height/a.y;if(r){const t=T(r),e=o&&O(o)?T(o):o;let n=t.frameElement;for(;n&&o&&e!==t;){const t=Y(n),e=n.getBoundingClientRect(),o=V(n),i=e.left+(n.clientLeft+parseFloat(o.paddingLeft))*t.x,r=e.top+(n.clientTop+parseFloat(o.paddingTop))*t.y;c*=t.x,u*=t.y,f*=t.x,d*=t.y,c+=i,u+=r,n=T(n).frameElement}}return k({width:f,height:d,x:c,y:u})}function K(t){return J(_(t)).left+W(t).scrollLeft}function Q(t,e,n){let o;if("viewport"===e)o=function(t,e){const n=T(t),o=_(t),i=n.visualViewport;let r=o.clientWidth,a=o.clientHeight,s=0,c=0;if(i){r=i.width,a=i.height;const t=F();(!t||t&&"fixed"===e)&&(s=i.offsetLeft,c=i.offsetTop)}return{width:r,height:a,x:s,y:c}}(t,n);else if("document"===e)o=function(t){const e=_(t),n=W(t),o=t.ownerDocument.body,i=s(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=s(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+K(t);const c=-n.scrollTop;return"rtl"===V(o).direction&&(a+=s(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:a,y:c}}(_(t));else if(O(e))o=function(t,e){const n=J(t,!0,"fixed"===e),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=R(t)?Y(t):l(1);return{width:t.clientWidth*r.x,height:t.clientHeight*r.y,x:i*r.x,y:o*r.y}}(e,n);else{const n=$(t);o={...e,x:e.x-n.x,y:e.y-n.y}}return k(o)}function U(t,e){const n=I(t);return!(n===e||!O(n)||G(n))&&("fixed"===V(n).position||U(n,e))}function tt(t,e,n){const o=R(e),i=_(e),r="fixed"===n,a=J(t,!0,r,e);let s={scrollLeft:0,scrollTop:0};const c=l(0);if(o||!o&&!r)if(("body"!==B(e)||M(i))&&(s=W(e)),o){const t=J(e,!0,r,e);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else i&&(c.x=K(i));return{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function et(t,e){return R(t)&&"fixed"!==V(t).position?e?e(t):t.offsetParent:null}function nt(t,e){const n=T(t);if(!R(t))return n;let o=et(t,e);for(;o&&z(o)&&"static"===V(o).position;)o=et(o,e);return o&&("html"===B(o)||"body"===B(o)&&"static"===V(o).position&&!H(o))?n:o||function(t){let e=I(t);for(;R(e)&&!G(e);){if(H(e))return e;e=I(e)}return null}(t)||n}const ot={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:o}=t;const i=R(n),r=_(n);if(n===r)return e;let a={scrollLeft:0,scrollTop:0},s=l(1);const c=l(0);if((i||!i&&"fixed"!==o)&&(("body"!==B(n)||M(r))&&(a=W(n)),R(n))){const t=J(n);s=Y(n),c.x=t.x+n.clientLeft,c.y=t.y+n.clientTop}return{width:e.width*s.x,height:e.height*s.y,x:e.x*s.x-a.scrollLeft*s.x+c.x,y:e.y*s.y-a.scrollTop*s.y+c.y}},getDocumentElement:_,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r=[..."clippingAncestors"===n?function(t,e){const n=e.get(t);if(n)return n;let o=j(t).filter((t=>O(t)&&"body"!==B(t))),i=null;const r="fixed"===V(t).position;let a=r?I(t):t;for(;O(a)&&!G(a);){const e=V(a),n=H(a);n||"fixed"!==e.position||(i=null),(r?!n&&!i:!n&&"static"===e.position&&i&&["absolute","fixed"].includes(i.position)||M(a)&&!n&&U(t,a))?o=o.filter((t=>t!==a)):i=e,a=I(a)}return e.set(t,o),o}(e,this._c):[].concat(n),o],c=r[0],l=r.reduce(((t,n)=>{const o=Q(e,n,i);return t.top=s(o.top,t.top),t.right=a(o.right,t.right),t.bottom=a(o.bottom,t.bottom),t.left=s(o.left,t.left),t}),Q(e,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:nt,getElementRects:async function(t){let{reference:e,floating:n,strategy:o}=t;const i=this.getOffsetParent||nt,r=this.getDimensions;return{reference:tt(e,await i(n),o),floating:{x:0,y:0,...await r(n)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return q(t)},getScale:Y,isElement:O,isRTL:function(t){return"rtl"===V(t).direction}};var it=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function a(t){try{c(o.next(t))}catch(t){r(t)}}function s(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}))},rt=function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function at(){return it(this,void 0,void 0,(function(){var t=this;return rt(this,(function(e){switch(e.label){case 0:return this.dialog=document.createElement("div"),this.dialog.classList.add("tg-dialog"),[4,st(this).then((function(e){t.dialog.innerHTML=e}))];case 1:return e.sent(),document.body.append(this.dialog),[2,!0]}}))}))}function st(t){return it(this,void 0,void 0,(function(){var e,o,i,r;return rt(this,(function(a){return t.options.dialogClass&&t.dialog.classList.add(t.options.dialogClass),t.options.dialogZ&&(t.dialog.style.zIndex=String(t.options.dialogZ)),t.dialog.style.width=t.options.dialogWidth?t.options.dialogWidth+"px":"auto",t.options.dialogMaxWidth&&(t.dialog.style.maxWidth=t.options.dialogMaxWidth+"px"),e="",e+="<div class='tg-dialog-header'>",e+='<div class="tg-dialog-title" id="tg-dialog-title">\x3c!-- JS rendered --\x3e</div>',t.options.closeButton&&(e+='<div class="tg-dialog-close-btn" id="tg-dialog-close-btn">',e+='\n    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M11.7273 3.3335L8.00065 7.06016L4.27398 3.3335L3.33398 4.2735L7.06065 8.00016L3.33398 11.7268L4.27398 12.6668L8.00065 8.94016L11.7273 12.6668L12.6673 11.7268L8.94065 8.00016L12.6673 4.2735L11.7273 3.3335Z" fill="#081708"/>\n    </svg>\n    ',e+="</div>"),e+="</div>",t.options.progressBar&&(e+='<div class="tg-dialog-progress-bar"><span class="tg-bar" id="tg-dialog-progbar"></span></div>'),e+='<div class="tg-dialog-body" id="tg-dialog-body">\x3c!-- JS rendered --\x3e</div>',t.options.showStepDots&&"body"===t.options.stepDotsPlacement&&(r=n())&&(e+=r),e+='<div class="tg-dialog-footer">',o="tg-dialog-btn",i="false",0===t.activeStep&&(i="true",o+=" disabled"),e+='<div class="tg-dialog-footer-sup">',t.options.showStepDots&&"footer"===t.options.stepDotsPlacement&&(r=n())&&(e+=r),t.options.showStepProgress&&(e+='<span class="tg-step-progress" id="tg-step-progress">\x3c!-- JS rendered --\x3e</span>'),e+="</div>",e+='<div class="tg-footer-btn">',t.options.showButtons&&!t.options.hidePrev&&(e+='<button type="button" class="'+o+'" id="tg-dialog-prev-btn" disabled="'+i+'">'.concat(t.options.prevLabel,"</button>")),t.options.showButtons&&!t.options.hideNext&&(e+='<button type="button" class="tg-dialog-btn tg-dialog-btn-next" id="tg-dialog-next-btn">'.concat(t.options.nextLabel,"</button>")),e+="</div>",e+="</div>",[2,e+='<div id="tg-arrow" class="tg-arrow"></div>\x3c!-- end tour arrow --\x3e']}))}))}function ct(t){return new Promise((function(e,n){var i=t.tourSteps[t.activeStep];i||n("No active step data");var r=document.querySelector(".tg-dialog-header");r&&(r.style.display=i.hideHeader?"none":"");var a=document.getElementById("tg-dialog-title");a&&(a.innerHTML=i.title?i.title:"");var s=document.getElementById("tg-dialog-body");s&&i&&("string"==typeof i.content?s.innerHTML=i.content?i.content:"":(s.innerHTML="",s.append(i.content)));var c=document.getElementById("tg-dialog-dots");c&&t.options.showStepDots&&o(t)&&(c.innerHTML=o(t));var l=document.getElementById("tg-dialog-prev-btn");l&&(0===t.activeStep?(l.classList.add("disabled"),l.setAttribute("disabled","true")):(l.classList.remove("disabled"),l.removeAttribute("disabled")),l.innerHTML=null!=i.prevLabel?i.prevLabel:t.options.prevLabel,l.style.visibility=i.hidePrev?"hidden":"visible");var u=document.getElementById("tg-dialog-next-btn");u&&(u.innerHTML=null!=i.nextLabel?i.nextLabel:t.activeStep+1>=t.tourSteps.length?t.options.finishLabel:t.options.nextLabel,u.style.visibility=i.hideNext?"hidden":"visible");var f=document.getElementById("tg-step-progress");f&&t.options.stepFomat&&(f.innerHTML=t.options.stepFomat.replace("$currentStep",(t.activeStep+1).toString()).replace("$stepLength",t.tourSteps.length.toString()),f.style.visibility=i.hideStep?"hidden":"visible");var d=document.getElementById("tg-dialog-progbar");d&&(t.options.progressBar&&(d.style.backgroundColor=t.options.progressBar),d.style.width=(t.activeStep+1)/t.tourSteps.length*100+"%"),e(!0)}))}function lt(t){var e=this;return new Promise((function(n){return it(e,void 0,void 0,(function(){var e,o;return rt(this,(function(i){return e=document.querySelector("#tg-arrow"),(o=t.tourSteps[t.activeStep].target)===document.body?(Object.assign(t.dialog.style,{top:"".concat(window.innerHeight/2.25-t.dialog.clientHeight/2,"px"),left:"".concat(window.innerWidth/2-t.dialog.clientWidth/2,"px"),position:"fixed"}),t.dialog.classList.add("tg-dialog-fixed"),e&&(e.style.display="none"),[2,n(!0)]):(t.dialog.style.position="absolute",t.dialog.classList.remove("tg-dialog-fixed"),e&&(e.style.display="inline-block"),((t,e,n)=>{const o=new Map,i={platform:ot,...n},r={...i.platform,_c:o};return(async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:a}=n,s=r.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(e));let l=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=E(l,o,c),d=o,p={},h=0;for(let n=0;n<s.length;n++){const{name:r,fn:g}=s[n],{x:b,y:v,data:y,reset:m}=await g({x:u,y:f,initialPlacement:o,placement:d,strategy:i,middlewareData:p,rects:l,platform:a,elements:{reference:t,floating:e}});u=null!=b?b:u,f=null!=v?v:f,p={...p,[r]:{...p[r],...y}},m&&h<=50&&(h++,"object"==typeof m&&(m.placement&&(d=m.placement),m.rects&&(l=!0===m.rects?await a.getElementRects({reference:t,floating:e,strategy:i}):m.rects),({x:u,y:f}=E(l,d,c))),n=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:p}})(t,e,{...i,platform:r})})(o,t.dialog,{placement:t.options.dialogPlacement,middleware:[C({autoAlignment:!0}),(r={padding:15},void 0===r&&(r={}),{name:"shift",options:r,async fn(t){const{x:e,y:n,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...c}=p(r,t),l={x:e,y:n},u=await S(t,c),f=y(h(o)),g=b(f);let v=l[g],m=l[f];if(i){const t="y"===g?"bottom":"right";v=d(v+u["y"===g?"top":"left"],v,v-u[t])}if(a){const t="y"===f?"bottom":"right";m=d(m+u["y"===f?"top":"left"],m,m-u[t])}const w=s.fn({...t,[g]:v,[f]:m});return{...w,data:{x:w.x-e,y:w.y-n}}}}),L({element:e}),P(20)]}).then((function(o){var i,r=o.x,a=o.y,s=o.placement,c=o.middlewareData;if(Object.assign(t.dialog.style,{left:"".concat(r,"px"),top:"".concat(a,"px")}),c.arrow){var l=c.arrow.x,u=c.arrow.y,f={top:"bottom",right:"left",bottom:"top",left:"right"}[s.split("-")[0]],d=["left","right"].includes(f);e&&Object.assign(e.style,((i={left:null!=l?"".concat(l,"px"):"",top:null!=u?"".concat(u+(d?6:0),"px"):""})[f]="-4px",i))}return n(!0)})),[2]);var r}))}))}))}function ut(){this.backdrop=document.createElement("div"),this.computeBackdropAttributes(),document.body.append(this.backdrop)}function ft(){this.options&&(this.backdrop.className="tg-backdrop",this.backdrop.style.boxShadow=this.options.backdropColor+" 0 0 0px 0px, "+this.options.backdropColor+" 0 0 0 1000vh",this.options.backdropClass&&this.backdrop.classList.add(this.options.backdropClass),this.options.dialogAnimate&&this.backdrop.classList.add("tg-backdrop-animate"),this.options.backdropZ&&(this.backdrop.style.zIndex=this.options.backdropZ.toString()))}function dt(t){var e=this;return new Promise((function(n,o){return i=e,r=void 0,s=function(){var e,i,r,a;return function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(s){return void 0===t.options.targetPadding?[2,o("Options failed to initialize")]:t.backdrop?(e=t.tourSteps[t.activeStep],i=e.target,r=i.getBoundingClientRect(),a=r.width+t.options.targetPadding>document.documentElement.clientWidth,i===document.body?(r.width=0,r.height=0,t.backdrop.style.position="fixed",t.backdrop.style.top=window.innerHeight/2.5+"px",t.backdrop.style.left=window.innerWidth/2+"px"):e.fixed?(t.backdrop.style.position="fixed",t.backdrop.style.top=r.top-t.options.targetPadding/2+"px",t.backdrop.style.left=(a?r.x:r.x-t.options.targetPadding/2)+"px"):(t.backdrop.style.position="absolute",t.backdrop.style.top=window.scrollY+r.top-t.options.targetPadding/2+"px",t.backdrop.style.left=(a?r.x:r.x-t.options.targetPadding/2)+"px"),t.backdrop.style.width=(a?r.width:r.width+t.options.targetPadding)+"px",t.backdrop.style.height=(r.height?r.height+t.options.targetPadding:r.height)+"px",n(!0),[2]):[2,o("No backdrop element initialized")]}))},new((a=void 0)||(a=Promise))((function(t,e){function n(t){try{c(s.next(t))}catch(t){e(t)}}function o(t){try{c(s.throw(t))}catch(t){e(t)}}function c(e){var i;e.done?t(e.value):(i=e.value,i instanceof a?i:new a((function(t){t(i)}))).then(n,o)}c((s=s.apply(i,r||[])).next())}));var i,r,a,s}))}const pt=function(){var t=this;return new Promise((function(e){return n=t,o=void 0,r=function(){var t=this;return function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(n){switch(n.label){case 0:return this.backdrop.style.display="block",[4,dt(this)];case 1:return n.sent(),this.dialog.style.display="block",this.options.dialogAnimate&&this.isVisible&&this.dialog.classList.add("animate-position"),[4,lt(this)];case 2:return n.sent(),this.options.dialogAnimate&&setTimeout((function(){t.dialog.classList.remove("animate-position")}),300),this.isVisible=!0,window.onresize||(window.onresize=function(){dt(t),lt(t)}),window.onscroll||(window.onscroll=function(){lt(t)}),[4,setTimeout((function(){return e(!0)}),300)];case 3:return n.sent(),[2]}}))},new((i=void 0)||(i=Promise))((function(t,e){function a(t){try{c(r.next(t))}catch(t){e(t)}}function s(t){try{c(r.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(a,s)}c((r=r.apply(n,o||[])).next())}));var n,o,i,r}))};function ht(t){if("function"!=typeof t)throw new Error("Provided callback for onFinish was not a function");this._globalFinishCallback=t}function gt(t){if("function"!=typeof t)throw new Error("Provided callback for onBeforeExit was not a function");this._globalBeforeExitCallback=t}function bt(t){if("function"!=typeof t)throw new Error("Provided callback for onAfterExit was not a function");this._globalAfterExitCallback=t}function vt(t){if("function"!=typeof t)throw new Error("Provided callback for onBeforeStepChange was not a function");this._globalBeforeChangeCallback=t}function yt(t){if("function"!=typeof t)throw new Error("Provided callback for onAfterStepChange was not a function");this._globalAfterChangeCallback=t}var mt=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function a(t){try{c(o.next(t))}catch(t){r(t)}}function s(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}))},wt=function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},xt=function(t){var e;return mt(this,void 0,void 0,(function(){var n,o;return wt(this,(function(i){switch(i.label){case 0:return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),t.target instanceof Element?(n=this.backdrop.getBoundingClientRect(),t.clientX>=n.x&&t.clientX<=n.x+n.width&&t.clientY>=n.y&&t.clientY<=n.y+n.height?[2]:(o=this.dialog.getBoundingClientRect(),t.clientX>=o.x&&t.clientX<=o.x+o.width&&t.clientY>=o.y&&t.clientY<=o.y+o.height||this.dialog.contains(t.target)?[2]:[4,null===(e=this.onClickOutside)||void 0===e?void 0:e.call(this,this)])):[2];case 1:return i.sent(),[2]}}))}))},kt=function(t){return mt(this,void 0,void 0,(function(){var e=this;return wt(this,(function(n){switch(n.label){case 0:return"Escape"===t.key&&this.options.exitOnEscape?(t.preventDefault(),[4,this.exit()]):[3,2];case 1:return n.sent(),[2];case 2:return"ArrowRight"===t.key&&this.options.keyboardControls?(t.preventDefault(),this.visitStep("next").catch((function(t){e.options.debug&&console.warn(t)})),[2]):"ArrowLeft"===t.key&&this.options.keyboardControls?(t.preventDefault(),this.visitStep("prev").catch((function(t){e.options.debug&&console.warn(t)})),[2]):[2]}}))}))};function Et(){var t=this;return new Promise((function(e){var n,o,i;return t.options.showButtons&&(n=document.getElementById("tg-dialog-next-btn"))&&!t._trackedEvents.nextBtnClickEvent.initialized&&(n.addEventListener("click",t._trackedEvents.nextBtnClickEvent.fn),t._trackedEvents.nextBtnClickEvent.initialized=!0),t.options.showButtons&&(o=document.getElementById("tg-dialog-prev-btn"))&&!t._trackedEvents.prevBtnClickEvent.initialized&&(o.addEventListener("click",t._trackedEvents.prevBtnClickEvent.fn),t._trackedEvents.prevBtnClickEvent.initialized=!0),t.options.closeButton&&(i=document.getElementById("tg-dialog-close-btn"))&&!t._trackedEvents.closeBtnClickEvent.initialized&&(i.addEventListener("click",t._trackedEvents.closeBtnClickEvent.fn,!1),t._trackedEvents.closeBtnClickEvent.initialized=!0),t._trackedEvents.outsideClickEvent.initialized||(document.body.addEventListener("click",t._trackedEvents.outsideClickEvent.fn,!1),t._trackedEvents.outsideClickEvent.initialized=!0),(t.options.keyboardControls||t.options.exitOnEscape)&&(t._trackedEvents.keyPressEvent.initialized||(window.addEventListener("keydown",t._trackedEvents.keyPressEvent.fn,!1),t._trackedEvents.keyPressEvent.initialized=!0)),e(!0)}))}function St(){var t=this;return new Promise((function(e){var n,o,i;return t.options.showButtons&&(n=document.getElementById("tg-dialog-next-btn"))&&(n.removeEventListener("click",t._trackedEvents.nextBtnClickEvent.fn),t._trackedEvents.nextBtnClickEvent.initialized=!1),t.options.showButtons&&(o=document.getElementById("tg-dialog-prev-btn"))&&(o.removeEventListener("click",t._trackedEvents.prevBtnClickEvent.fn),t._trackedEvents.prevBtnClickEvent.initialized=!1),t.options.closeButton&&(i=document.getElementById("tg-dialog-close-btn"))&&(i.removeEventListener("click",t._trackedEvents.closeBtnClickEvent.fn,!1),t._trackedEvents.closeBtnClickEvent.initialized=!1),document.body.removeEventListener("click",t._trackedEvents.outsideClickEvent.fn,!1),t._trackedEvents.outsideClickEvent.initialized=!1,(t.options.keyboardControls||t.options.exitOnEscape)&&(window.removeEventListener("keydown",t._trackedEvents.keyPressEvent.fn,!1),t._trackedEvents.keyPressEvent.initialized=!1),e(!0)}))}const Lt=function(t,e){e.scrollIntoView({behavior:t.options.autoScrollSmooth?"smooth":"auto",block:"end",inline:"nearest"})};var Ct=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function a(t){try{c(o.next(t))}catch(t){r(t)}}function s(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}))},Pt=function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Bt(){return Ct(this,void 0,void 0,(function(){var t=this;return Pt(this,(function(e){return[2,new Promise((function(e,n){return Ct(t,void 0,void 0,(function(){var t,o;return Pt(this,(function(i){switch(i.label){case 0:t=this.activeStep+1,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.visitStep(t)];case 2:return i.sent(),[3,4];case 3:return o=i.sent(),[2,n(o)];case 4:return[2,e(!0)]}}))}))}))]}))}))}function Tt(){return Ct(this,void 0,void 0,(function(){var t=this;return Pt(this,(function(e){return[2,new Promise((function(e,n){return Ct(t,void 0,void 0,(function(){var t,o;return Pt(this,(function(i){switch(i.label){case 0:t=this.activeStep-1,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.visitStep(t)];case 2:return i.sent(),[3,4];case 3:return o=i.sent(),[2,n(o)];case 4:return[2,e(!0)]}}))}))}))]}))}))}function _t(t,e){var n=this;return new Promise((function(o,i){return Ct(n,void 0,void 0,(function(){var n,r,a,s,c,l;return Pt(this,(function(u){switch(u.label){case 0:if(e>=t.tourSteps.length)return[2,i("End of tour steps")];if(e<0)return[2,i("Start of tour steps")];if(n=t.activeStep,r=t.tourSteps[n],!(a=t.tourSteps[e])||!r)return[2,i("Step not found by index")];if(!t._globalBeforeChangeCallback||e===n)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,t._globalBeforeChangeCallback()];case 2:return u.sent(),[3,4];case 3:return s=u.sent(),[2,i(s)];case 4:if(!r.beforeLeave)return[3,8];u.label=5;case 5:return u.trys.push([5,7,,8]),[4,r.beforeLeave(r,a)];case 6:return u.sent(),[3,8];case 7:return c=u.sent(),[2,i(c)];case 8:if(!a.beforeEnter)return[3,12];u.label=9;case 9:return u.trys.push([9,11,,12]),[4,a.beforeEnter(r,a)];case 10:return u.sent(),[3,12];case 11:return l=u.sent(),[2,i(l)];case 12:return"string"==typeof a.target&&(t.tourSteps[e].target=document.querySelector(a.target)),a.target&&t.tourSteps[e].target||(t.tourSteps[e].target=document.body),t.activeStep=Number(e),[4,ct(t).catch((function(e){t.options.debug&&console.warn(e),i(e)}))];case 13:return u.sent(),t.options.autoScroll&&a.target!==document.body?[4,Lt(t,a.target)]:[3,15];case 14:u.sent(),u.label=15;case 15:return[4,t.updatePositions()];case 16:return u.sent(),r.afterLeave?[4,r.afterLeave(r,a)]:[3,18];case 17:u.sent(),u.label=18;case 18:return a.afterEnter?[4,a.afterEnter(r,a)]:[3,20];case 19:u.sent(),u.label=20;case 20:return t._globalAfterChangeCallback&&e!==n?[4,t._globalAfterChangeCallback()]:[3,22];case 21:u.sent(),u.label=22;case 22:return[2,o(!0)]}}))}))}))}const At=function(t){return Ct(this,void 0,void 0,(function(){var e=this;return Pt(this,(function(n){return[2,new Promise((function(n,o){return Ct(e,void 0,void 0,(function(){return Pt(this,(function(e){switch(e.label){case 0:return"string"==typeof t&&(t="next"===t?this.activeStep+1:this.activeStep-1),t>=this.tourSteps.length?[4,this.finishTour(!0,this.group)]:[3,2];case 1:return e.sent(),[2];case 2:return[4,_t(this,t).catch((function(t){return o(t)}))];case 3:return e.sent(),[2,n(!0)]}}))}))}))]}))}))};var Ot=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function a(t){try{c(o.next(t))}catch(t){r(t)}}function s(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}))},Rt=function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};const Dt=function(t){return Ot(this,void 0,void 0,(function(){var e=this;return Rt(this,(function(n){return[2,new Promise((function(n,o){return Ot(e,void 0,void 0,(function(){var e,i;return Rt(this,(function(r){return e=[],t.options.steps&&t.options.steps.length&&(e=t.options.steps.map((function(t){return"string"==typeof t.target&&(t.target=document.querySelector(t.target)),t.target||(t.target=document.body),t}))),(i=document.querySelectorAll("[data-tg-tour]"))&&i.forEach((function(n){var o=n.getAttribute("data-tg-title"),i=n.getAttribute("data-tg-tour"),r=n.getAttribute("data-tg-group"),a=n.getAttribute("data-tg-order"),s=n.getAttribute("data-tg-fixed"),c=n.getAttribute("data-tg-margin");t.options.targetPadding&&t.options.autoScrollOffset?n.style.scrollMargin=(c?c+t.options.targetPadding:t.options.autoScrollOffset+t.options.targetPadding)+"px 0":n.style.scrollMargin=(c||"30")+"px 0",e.push({title:o||void 0,order:a?Number(a):999,target:n,content:i||void 0,fixed:null!==s&&"false"!==s,group:r||void 0})})),t.group&&(e=e.filter((function(e){return e.group===t.group}))),e.sort((function(t,e){return new Date(t.order)<new Date(e.order)?-1:1})),t.tourSteps=e,t.tourSteps.length?[2,n(!0)]:[2,o("No tour steps detected"+(t.group?" in group: "+t.group:""))]}))}))}))]}))}))},Mt=function(t){return new Promise((function(e){if(document.querySelector(t))return e(document.querySelector(t));var n=new MutationObserver((function(){document.querySelector(t)&&(e(document.querySelector(t)),n.disconnect())}));n.observe(document.body,{childList:!0,subtree:!0})}))};var zt=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function a(t){try{c(o.next(t))}catch(t){r(t)}}function s(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}))},Ht=function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};const Ft=function(t){return zt(this,void 0,void 0,(function(){var e,n=this;return Ht(this,(function(o){switch(o.label){case 0:return this.options.steps?((e=this.options.steps).push.apply(e,t),[4,Dt(this)]):[2];case 1:return o.sent(),this.isVisible?[4,ct(this).catch((function(t){n.options.debug&&console.warn(t)}))]:[3,3];case 2:o.sent(),o.label=3;case 3:return this.isVisible&&this.updatePositions().catch((function(t){n.options.debug&&console.warn(t)})),this.isVisible?[4,Mt(".tg-dialog").then((function(){return zt(n,void 0,void 0,(function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,this.destroyListeners()];case 1:return t.sent(),[4,this.initListeners()];case 2:return t.sent(),[2,!0]}}))}))}))]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))};var Gt=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function a(t){try{c(o.next(t))}catch(t){r(t)}}function s(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}))},Vt=function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};const Wt=function(t){return Gt(this,void 0,void 0,(function(){var e=this;return Vt(this,(function(n){return[2,new Promise((function(n,o){return Gt(e,void 0,void 0,(function(){var e,i,r=this;return Vt(this,(function(a){switch(a.label){case 0:if(this.isVisible)return this.options.debug&&console.warn("Tour already active"),[2,o("Tour already active")];t&&(this.group=t),this.options.debug&&console.info("Start tour"),e=this,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Dt(e)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),this.options.debug&&console.warn(i),[2,o(i)];case 4:return this.createTourGuideMask(),[4,e.visitStep(this.activeStep).catch((function(t){return r.options.debug&&console.warn(t),o(t)}))];case 5:return a.sent(),[4,Mt(".tg-dialog").then((function(){return Gt(r,void 0,void 0,(function(){return Vt(this,(function(t){switch(t.label){case 0:return[4,this.initListeners()];case 1:return t.sent(),this.options.dialogAnimate&&this.dialog.classList.add("animate-position"),[2]}}))}))}))];case 6:return a.sent(),[2,n(!0)]}}))}))}))]}))}))};var It=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function a(t){try{c(o.next(t))}catch(t){r(t)}}function s(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}))},Nt=function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};const jt=function(t){return It(this,void 0,void 0,(function(){var e=this;return Nt(this,(function(n){switch(n.label){case 0:return t?(Object.assign(this.options,t),this.computeBackdropAttributes(),[4,st(this).then((function(t){t&&(e.dialog.innerHTML=t)})).catch((function(t){e.options.debug&&console.warn(t)}))]):[2];case 1:return n.sent(),[4,ct(this).catch((function(t){e.options.debug&&console.warn(t)}))];case 2:return n.sent(),this.isVisible?[4,Mt(".tg-dialog").then((function(){return It(e,void 0,void 0,(function(){return Nt(this,(function(t){switch(t.label){case 0:return[4,this.destroyListeners()];case 1:return t.sent(),[4,this.initListeners()];case 2:return t.sent(),[2,!0]}}))}))}))]:[3,4];case 3:n.sent(),n.label=4;case 4:return[2,this]}}))}))};const qt=function(){return t=this,e=void 0,o=function(){var t=this;return function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){switch(e.label){case 0:if(!this._globalBeforeExitCallback)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._globalBeforeExitCallback()];case 2:return e.sent(),[3,4];case 3:return e.sent(),[2];case 4:return this.dialog.style.display="none",this.backdrop.style.display="none",this.isVisible=!1,this.options.rememberStep||(this.activeStep=0),this.options.debug&&console.info("Tour exited"),this.mask.remove(),[4,this.destroyListeners()];case 5:return e.sent(),setTimeout((function(){t._globalAfterExitCallback&&t._globalAfterExitCallback()}),0),[2]}}))},new((n=void 0)||(n=Promise))((function(i,r){function a(t){try{c(o.next(t))}catch(t){r(t)}}function s(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}));var t,e,n,o};var Zt=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function a(t){try{c(o.next(t))}catch(t){r(t)}}function s(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}))},Yt=function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Xt(){return Zt(this,void 0,void 0,(function(){var t=this;return Yt(this,(function(e){return[2,new Promise((function(e,n){return Zt(t,void 0,void 0,(function(){var t=this;return Yt(this,(function(o){switch(o.label){case 0:return[4,st(this).then((function(e){e&&(t.dialog.innerHTML=e)})).catch((function(e){t.options.debug&&console.warn(e)}))];case 1:return o.sent(),[4,ct(this).catch((function(e){t.options.debug&&console.warn(e),n(e)}))];case 2:return o.sent(),[4,this.updatePositions()];case 3:return o.sent(),this.isVisible?[4,Mt(".tg-dialog").then((function(){return Zt(t,void 0,void 0,(function(){return Yt(this,(function(t){switch(t.label){case 0:return[4,this.destroyListeners()];case 1:return t.sent(),[4,this.initListeners()];case 2:return t.sent(),[2,!0]}}))}))}))]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2,e(!0)]}}))}))}))]}))}))}const $t=function(){return Zt(this,void 0,void 0,(function(){var t=this;return Yt(this,(function(e){return[2,new Promise((function(e,n){return Zt(t,void 0,void 0,(function(){return Yt(this,(function(t){switch(t.label){case 0:return[4,Dt(this).catch((function(t){return n(t)}))];case 1:return t.sent(),this.computeBackdropAttributes(),[4,this.refreshDialog().catch((function(t){return n(t)}))];case 2:return t.sent(),[2,e(!0)]}}))}))}))]}))}))};function Jt(t){return void 0===t&&(t="tour"),localStorage.tg_tours_complete.split(",").includes(t)}function Kt(t){if(void 0===t&&(t="tour"),"all"!==t){var e=localStorage.tg_tours_complete.split(",");localStorage.tg_tours_complete=e.filter((function(e){return e!==t}))}else localStorage.tg_tours_complete=null}const Qt=function(t,e){return void 0===t&&(t=!0),void 0===e&&(e="tour"),n=this,o=void 0,r=function(){var n;return function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(o){switch(o.label){case 0:if(!this._globalFinishCallback)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._globalFinishCallback()];case 2:return o.sent(),[3,4];case 3:return o.sent(),[2,!1];case 4:return this.options.completeOnFinish?localStorage.tg_tours_complete?[3,7]:(localStorage.tg_tours_complete=[e],t?[4,this.exit()]:[3,6]):[3,8];case 5:o.sent(),o.label=6;case 6:return this.activeStep=0,[2];case 7:(n=localStorage.tg_tours_complete.split(",")).push(e),localStorage.tg_tours_complete=n,o.label=8;case 8:return t?[4,this.exit()]:[3,10];case 9:o.sent(),o.label=10;case 10:return this.activeStep=0,[2,!0]}}))},new((i=void 0)||(i=Promise))((function(t,e){function a(t){try{c(r.next(t))}catch(t){e(t)}}function s(t){try{c(r.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(a,s)}c((r=r.apply(n,o||[])).next())}));var n,o,i,r},Ut=function(t,e){void 0===e&&(e={});var n=e.text,o=void 0===n?"":n,i=e.attributes,r=e.children,a=[];return i&&Object.entries(i).forEach((function(t){var e=t[0],n=t[1];a.push("".concat(e,'="').concat(n,'"'))})),"<".concat(t," ").concat(a.join(" "),">").concat(o," ").concat(r?r.join(""):"","</").concat(t,">")},te={nextLabel:"Next",prevLabel:"Back",finishLabel:"Finish",hidePrev:!1,hideNext:!1,dialogClass:"",dialogZ:999,dialogWidth:0,dialogMaxWidth:340,dialogAnimate:!0,dialogPlacement:void 0,backdropClass:"",backdropColor:"rgba(20,20,21,0.84)",backdropAnimate:!0,backdropZ:999,targetPadding:30,completeOnFinish:!0,showStepDots:!0,stepDotsPlacement:"footer",showButtons:!0,showStepProgress:!0,progressBar:"",keyboardControls:!0,exitOnEscape:!0,autoScroll:!0,autoScrollSmooth:!0,autoScrollOffset:20,closeButton:!0,rememberStep:!1,debug:!0,steps:[],stepFomat:"$currentStep/$stepLength"};function ee(){this.mask=document.createElement("div"),this.computeMaskAttributes(),document.body.append(this.mask)}function ne(){this.mask.className="tg-mask",this.options.dialogZ&&(this.mask.style.zIndex=(this.options.dialogZ-1).toString())}var oe=function(t){var e=this;this.group="",this.isVisible=!1,this.activeStep=0,this.tourSteps=[],this.options=te,this.isFinished=Jt,this.createTourGuideBackdrop=ut,this.computeBackdropAttributes=ft,this.createTourGuideDialog=at,this.createTourGuideMask=ee,this.computeMaskAttributes=ne,this.start=Wt,this.visitStep=At,this.addSteps=Ft,this.reset=function(){e.isVisible=!1,e.activeStep=0,e.options.steps=[],e._globalFinishCallback=function(){},e._globalBeforeChangeCallback=function(){},e._globalAfterChangeCallback=function(){},e._globalBeforeExitCallback=function(){},e._globalAfterExitCallback=function(){},e.destroyListeners()},this.nextStep=Bt,this.prevStep=Tt,this.exit=qt,this.refresh=$t,this.refreshDialog=Xt,this.finishTour=Qt,this.updatePositions=pt,this.deleteFinishedTour=Kt,this.setOptions=jt,this.createEl=Ut,this.initListeners=Et,this.destroyListeners=St,this._trackedEvents={nextBtnClickEvent:{initialized:!1,fn:this.nextStep.bind(this)},prevBtnClickEvent:{initialized:!1,fn:this.prevStep.bind(this)},closeBtnClickEvent:{initialized:!1,fn:this.exit.bind(this)},keyPressEvent:{initialized:!1,fn:kt.bind(this)},outsideClickEvent:{initialized:!1,fn:xt.bind(this)}},this.onFinish=ht,this.onBeforeExit=gt,this.onAfterExit=bt,this.onBeforeStepChange=vt,this.onAfterStepChange=yt,this.dialog=document.createElement("div"),this.backdrop=document.createElement("div"),this.mask=document.createElement("div"),this.options=te,t&&Object.assign(this.options,t),this.createTourGuideDialog().catch((function(t){e.options.debug&&console.warn(t)})),this.createTourGuideBackdrop()}})(),e})()));